---
description: 门禁：执行真实代码改动（写入前强制审计）
agent: build
---

你正在执行一个高风险动作：对仓库进行真实写入。

## 目标
$ARGUMENTS

## 强制流程（不可跳过）
1) 复述目标、非目标、验收标准（若缺信息必须提问）。
2) 输出“最小变更方案”（文件级别变更清单 + 风险点 + 回滚方式）。
3) 生成“验证命令清单”，至少包含：
   - 后端：`uv run python -m pytest`
   - 前端（若存在）：`yarn lint`、`yarn build`
4) 写入前的审计信息（仅用于可追溯，不要生成海量 diff）：
   - working tree：!`git status --porcelain`
   - commits：!`git log --oneline -10`
   - diff stat：!`git diff --stat`

## 执行原则
- 只做与目标直接相关的最小变更。
- 禁止“顺手重构”。
- 每做完一个子步骤，立即说明：改了什么、为什么、如何验证。

## 完成条件
- 所有验证命令执行并通过；若失败，立即进入止血（回滚/修复/复测）。
- 输出最终可追溯摘要：改动文件列表 + 关键差异点 + 验收结果。